{"version":3,"sources":["../../../Content/ContentCast/Ficon/src/FiconBase.js","../../../Content/ContentCast/Ficon/src/FiconHover.js","../../../Content/ContentCast/Ficon/src/FiconLightbox.js","../../../Content/ContentCast/Ficon/src/FiconFactory.js","../../../Content/ContentCast/Ficon/src/main.js"],"names":["FiconBase","$icon","options","event","$container","create","_","this","sectionName","data","o","$","extend","inlineSettings","inlineContentId","concat","ficonId","$section","children","attr","addClass","templateClass","append","clone","elementId","find","adjustSection","one","inlineContent","Function","adjustMedia","adjustComparison","adjustSpin","adjustHotspots","adjustFeatures","adjustAugmentedReality","aspectRatio","ar","undefined","getDefaultAspectRatio","$arBlock","height","Math","floor","window","innerHeight","width","css","$wrapper","ccs_util","isMobile","length","click","setTimeout","player","ccsVideoPlayer","setMute","removeAttr","off","$slickContainer","fcWrapper","on","e","push","target","action","forEach","$fc","ccsSlick","open","hasClass","toggleClass","trigger","type","api","clientParams","ElementIds","Action","ActionContext","JSON","stringify","mode","mobile","openTime","Date","round","ccs_cc_log","dispatchEvent","logCall","innerWidth","$document","document","$target","bound","getBoundingClientRect","top","bottom","focus","ficonEvent","focusEvent","closest","is","hotspot","qtip","tooltip","customElements","removeClass","FiconHover","arguments","babelHelpers","assertThisInitialized","_this","invokeType","openClick","openHover","lightboxLoadEvent","lightboxLoadEventNs","config","overwrite","suppress","content","text","title","html","button","closeText","show","solo","ready","hide","fixed","leave","delay","style","classes","tip","border","position","container","viewport","events","render","setPosition","direction","fixPositionTop","visible","originalEvent","triggerEvent","autoScroll","ElementQueries","init","id","breakpoints","close","fancybox","isActive","hidden","detach","stopAllVideos","timer","_this2","clearTimeout","reposition","dir","p","my","at","method","set","$window","$root","test","navigator","userAgent","scrollTimer","_this3","wHeight","animate","scrollTop","$tooltip","currentDir","targetDir","offset","update","_this4","_this5","preventDefault","require","focusTimer","appendTo","body","keyCode","FiconLightbox","baseClass","smallBtn","touch","trapFocus","afterLoad","instance","current","$content","afterShow","initBackGroundVideoAutoPlay","beforeClose","suppressYoutubeAutoplay","afterClose","fb","getInstance","$spin","sectionHeight","sectionWidth","controlHeight","outerHeight","titleHeight","spinData","spritespin","spinHeight","ratio","targetHeight","targetWidth","parent","gallery","maxHeight","resize","max","documentElement","clientHeight","not","e1","$video","$wrap","mejs","e2","pause","play","each","i","video","muted","FiconFactory","FiconClass","$iconContainer","factory","ficon"],"mappings":"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","file":"ficon.min.js","sourcesContent":["﻿import $ from \"jquery\";\r\nimport inlineContent from \"inlineContent\";\r\n\r\nexport default class FiconBase {\r\n\tconstructor($icon, options, event) {\r\n\t\tif (!options.$container) {\r\n\t\t\tthrow \"Ficons content container is not initialized\";\r\n\t\t}\r\n\r\n\t\tthis.$icon = $icon;\r\n\t\tthis.options = options;\r\n\t\tthis.$container = options.$container;\r\n\r\n\t\tthis.create(event);\r\n\t}\r\n\t\r\n\tstatic init(options) {\r\n\t\toptions.$container = $(`#${options.ficonId}`).children(\".ccs-cc-ficons-content\");\r\n\r\n\t\tconst $document = $(document);\r\n\r\n\t\t$document\r\n\t\t\t.off(\"ccsFicon.focus\")\r\n\t\t\t.on(\"ccsFicon.focus\", function (e) {\r\n\t\t\t\tlet $target;\r\n\t\t\t\tif (e.action === \"open\") {\r\n\t\t\t\t\t$target = e.api.$section;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$target = e.api.$icon;\r\n\r\n\t\t\t\t\tconst bound = $target[0].getBoundingClientRect();\r\n\t\t\t\t\tif (bound.top < 0 || bound.bottom > window.innerHeight) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$target.focus();\r\n\t\t\t})\r\n\t\t\t.off(\"ccsFicon.focusLock\")\r\n\t\t\t.on(\"ccsFicon.focusLock\", function (ficonEvent) {\r\n\t\t\t\tconst $section = ficonEvent.api.$section;\r\n\r\n\t\t\t\tif (ficonEvent.action === \"open\") {\r\n\r\n\t\t\t\t\t$document.on(\"focusin.ficon\", function (focusEvent) {\r\n\t\t\t\t\t\tconst $target = $(focusEvent.target);\r\n\r\n\t\t\t\t\t\tif (!$target.closest(\".ccs-cc-inline-ficon, .ccs-hotspots-tooltips, .ccs-fancybox-container\").length) {\r\n\r\n\t\t\t\t\t\t\tif ($section.is(\"[data-section=hotspots]\")) {\r\n\t\t\t\t\t\t\t\tconst hotspot = $section.find(\".ccs-hotspots-point-active\");\r\n\t\t\t\t\t\t\t\tif (hotspot.length) {\r\n\t\t\t\t\t\t\t\t\thotspot.qtip(\"api\").tooltip.focus();\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t$section.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$document.off(\"focusin.ficon\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!window.customElements) {\r\n\t\t\t\t$(\"a[data-section='augmentedreality']\").removeClass(\"ccs-cc-ficons-item\");\r\n\t\t\t}\t\r\n\t}\r\n\r\n\tcreate(event) {\r\n\t\tconst _ = this,\r\n\t\t\t$icon = _.$icon,\r\n\t\t\t$container = _.$container,\r\n\t\t\toptions = _.options;\r\n\r\n\t\tconst sectionName = $icon.data(\"section\");\r\n\r\n\t\tconst o = $.extend({}, options.inlineSettings);\r\n\t\to.inlineContentId = `${options.ficonId}-${sectionName}`;\r\n\r\n\t\tconst $section = _.$section = $container.children(`[data-section='${sectionName}']`);\r\n\r\n\t\t$section\r\n\t\t\t.attr(\"id\", o.inlineContentId)\r\n\t\t\t.attr(\"tabindex\", \"0\")\r\n\t\t\t.addClass(\"ccs-initialized\")\r\n\t\t\t.addClass(options.templateClass)\r\n\t\t\t.append($container.children(\".ccs-cc-inline-ensure-style-loaded\").clone());\r\n\r\n\t\t_.elementId = $section.find(\".ccs-cc-inline-section\").data(\"elementid\");\r\n\t\t_.adjustSection(sectionName, $section);\r\n\r\n\t\t$section.one(\"ccsFicon\", () => {\r\n\t\t\tinlineContent(o);\r\n\t\t\tnew Function($section.data(\"init\"))();\r\n\t\t});\r\n\t}\r\n\r\n\tadjustSection(sectionName, $section) {\r\n\t\tconst _ = this;\r\n\r\n\t\tswitch (sectionName) {\r\n\t\t\tcase \"media\":\r\n\t\t\t\t_.adjustMedia($section);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"comparison\":\r\n\t\t\t\t_.adjustComparison($section);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"spin\":\r\n\t\t\t\t_.adjustSpin($section);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"hotspots\":\r\n\t\t\t\t_.adjustHotspots($section);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"features\":\r\n\t\t\t\t_.adjustFeatures($section);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"augmentedreality\":\r\n\t\t\t\t_.adjustAugmentedReality($section, _.options.aspectRatio);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tadjustAugmentedReality($section, aspectRatio) {\r\n\t\tconst _ = this;\r\n\t\tvar ar = aspectRatio == undefined || aspectRatio == 0 ? _.getDefaultAspectRatio() : aspectRatio;\r\n\t\tvar $arBlock = $(\"div[data-elementid^='inline-content-augmentedreality']\");\r\n\t\tvar height = Math.floor($arBlock.height() / window.innerHeight * 100);\r\n\t\tvar width = Math.floor(height / ar);\r\n\t\t$section.css({ width: `${width}vw` }, {height: `${height}vh`});\r\n\t\t$section.find(\".ccs-cc-inline-augmentedreality\").addClass(\"ccs-ficon-ar-block\");\r\n\t}\r\n\r\n\tadjustMedia($section) {\r\n\t\t$section.one(\"ccsGalleryLoad\", function () {\r\n\t\t\tconst $wrapper = $section.find(\".ccs-cc-viewport-slide-wrapper[data-media-type='video']:first\");\r\n\r\n\t\t\tif (!ccs_util.isMobile() && $wrapper.length) {\r\n\t\t\t\t$wrapper.click();\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tconst player = $wrapper.ccsVideoPlayer(\"getPlayer\");\r\n\t\t\t\t\tplayer && player.setMute(true);\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tadjustComparison($section) {\r\n\t\t$section\r\n\t\t\t.find(\".ccs-logo-ls-icon\")\r\n\t\t\t.removeAttr(\"data-logo-icon\")\r\n\t\t\t.off();\r\n\t}\r\n\r\n\tadjustFeatures($section) {\r\n\r\n\t\t$section.one(\"ccsFicon\", () => {\r\n\t\t\tconst $slickContainer = $section.find(\".ccs-cc-fc-items\");\r\n\t\t\tif (!$slickContainer.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst fcWrapper = [];\r\n\r\n\t\t\t$slickContainer.on(\"init\", e => fcWrapper.push($(e.target)));\r\n\r\n\t\t\t$section.on(\"ccsFicon\", e => {\r\n\t\t\t\tlet event;\r\n\t\t\t\tif (!fcWrapper.length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.action === \"open\") {\r\n\t\t\t\t\tevent = \"setPosition\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.action === \"close\") {\r\n\t\t\t\t\tevent = \"pause\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfcWrapper.forEach($fc => $fc.ccsSlick(event));\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\ttriggerEvent(action) {\r\n\t\tconst _ = this,\r\n\t\t\t$icon = _.$icon,\r\n\t\t\t$section = _.$section,\r\n\t\t\telementId = _.elementId,\r\n\t\t\toptions = _.options,\r\n\t\t\topen = action === \"open\";\r\n\r\n\t\tif ($icon.hasClass(\"ccs-cc-active\") ^ !open) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$icon.toggleClass(\"ccs-cc-active\");\r\n\r\n\t\t$section.trigger({ type: \"ccsFicon\", action: action, api: _ });\r\n\r\n\t\tconst clientParams = {\r\n\t\t\tElementIds: elementId,\r\n\t\t\tAction: \"feature-click\",\r\n\t\t\tActionContext: JSON.stringify({\r\n\t\t\t\ttype: \"ficon\",\r\n\t\t\t\taction: action,\r\n\t\t\t\tmode: options.mode,\r\n\t\t\t\tmobile: ccs_util.isMobile()\r\n\t\t\t})\r\n\t\t};\r\n\r\n\t\tif (open) {\r\n\t\t\t_.openTime = new Date();\r\n\t\t} else {\r\n\t\t\tclientParams[\"Qty\"] = Math.round((new Date() - _.openTime) / 1000);\r\n\t\t}\r\n\r\n\t\tccs_cc_log.dispatchEvent(options.logCall, clientParams);\r\n\t}\r\n\r\n\topen(event) { }\r\n\tclose(event) { }\r\n\tupdate(event) { }\r\n\r\n\tadjustSpin($section) { }\r\n\tadjustHotspots($section) { }\r\n\r\n\r\n\tgetDefaultAspectRatio() {\r\n\t\treturn window.innerWidth / window.innerHeight;\r\n\t}\r\n};","﻿import $ from \"jquery\";\r\nimport require from \"require\";\r\nimport FiconBase from \"./FiconBase\";\r\nimport ElementQueries from \"ElementQueries\";\r\n\r\nexport default class FiconHover extends FiconBase {\r\n\tconstructor() {\r\n\t\tsuper(...arguments);\r\n\r\n\t\tconst _ = this;\r\n\t\t_.open = _.options.invokeType === \"click\" ? _.openClick : _.openHover;\r\n\t}\r\n\r\n\tstatic init(options) {\r\n\t\tsuper.init(options);\r\n\r\n\t\trequire(\"qtip\");\r\n\r\n\t\tconst $document = $(document),\r\n\t\t\t$container = options.$container;\r\n\r\n\t\t$container\r\n\t\t\t.addClass(options.templateClass)\r\n\t\t\t.appendTo(document.body);\r\n\r\n\t\t$document\r\n\t\t\t.off(\"ccsBreakpointFired.ficon\")\r\n\t\t\t.on(\"ccsBreakpointFired.ficon\", \".qtip\", function (e) {\r\n\t\t\t\t$(this).qtip(\"reposition\", e);\r\n\t\t\t})\r\n\t\t\t.on(\"keydown\", \".ccs-tooltip-ficon\", function (e) {\r\n\t\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\t\t$(this).qtip(\"hide\", e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\toptions.autoScroll &= options.direction === \"top\" || options.direction === \"bottom\";\r\n\r\n\t\tif (!options.autoScroll) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet focusTimer;\r\n\r\n\t\t$document\r\n\t\t\t.off(\"ccsFicon.focus\")\r\n\t\t\t.on(\"ccsFicon.focus\", function (e) {\r\n\t\t\t\tclearTimeout(focusTimer);\r\n\r\n\t\t\t\tif (e.action === \"close\") {\r\n\t\t\t\t\tconst $target = e.api.$icon;\r\n\r\n\t\t\t\t\tconst bound = $target[0].getBoundingClientRect();\r\n\t\t\t\t\tif (bound.top < 0 || bound.bottom > window.innerHeight) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfocusTimer = setTimeout(() => $target.focus(), 120);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tcreate(event) {\r\n\t\tsuper.create(event);\r\n\r\n\t\tconst $document = $(document),\r\n\t\t\t_ = this,\r\n\t\t\t$container = _.$container,\r\n\t\t\t$section = _.$section,\r\n\t\t\t$icon = _.$icon,\r\n\t\t\toptions = _.options,\r\n\t\t\tlightboxLoadEvent = \"beforeLoad.ccs-fb\",\r\n\t\t\tlightboxLoadEventNs = lightboxLoadEvent + \".ficon\";\r\n\r\n\t\tif (options.invokeType === \"hover\") {\r\n\t\t\t$icon.removeAttr(\"title\");\r\n\t\t}\r\n\r\n\t\t_.config = {\r\n\t\t\toverwrite: false,\r\n\t\t\tsuppress: false,\r\n\t\t\tcontent: {\r\n\t\t\t\ttext: $section,\r\n\t\t\t\ttitle: $(\"<h2>\").html($section.data(\"title\")),\r\n\t\t\t\tbutton: options.closeText\r\n\t\t\t},\r\n\t\t\tshow: {\r\n\t\t\t\tevent: false,\r\n\t\t\t\tsolo: true,\r\n\t\t\t\tready: true\r\n\t\t\t},\r\n\t\t\thide: {\r\n\t\t\t\tfixed: true,\r\n\t\t\t\tleave: false,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tevent: \"unfocus\"\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tclasses: \"qtip-light qtip-shadow ccs-tooltip-ficon\",\r\n\t\t\t\ttip: {\r\n\t\t\t\t\twidth: 10,\r\n\t\t\t\t\theight: 10,\r\n\t\t\t\t\tborder: 2\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tcontainer: $container,\r\n\t\t\t\tviewport: $(window)\r\n\t\t\t},\r\n\t\t\tevents: {\r\n\t\t\t\trender(event, api) {\r\n\t\t\t\t\t_.qtip = api;\r\n\r\n\t\t\t\t\t_.setPosition(options.direction);\r\n\r\n\t\t\t\t\tif (options.direction === \"top\") {\r\n\t\t\t\t\t\t_.fixPositionTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tvisible(event, api) {\r\n\t\t\t\t\tif (event.originalEvent.type !== lightboxLoadEvent) {\r\n\t\t\t\t\t\t_.triggerEvent(\"open\");\r\n\t\t\t\t\t\t_.autoScroll();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tevent.originalEvent.target.focus();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tElementQueries.init(`#${$section[0].id}`, options.breakpoints);\r\n\r\n\t\t\t\t\t$document\r\n\t\t\t\t\t\t.off(lightboxLoadEventNs)\r\n\t\t\t\t\t\t.one(lightboxLoadEventNs, (e) => {\r\n\t\t\t\t\t\t\t_.close(e);\r\n\r\n\t\t\t\t\t\t\t$document.one(\"afterClose.ccs-fb.ficon\", () => {\r\n\t\t\t\t\t\t\t\tif (!$.fancybox.isActive) {\r\n\t\t\t\t\t\t\t\t\t_.open(e);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\thidden(event, api) {\r\n\t\t\t\t\tElementQueries.detach($section[0]);\r\n\t\t\t\t\t$.ccsVideoPlayer.stopAllVideos();\r\n\r\n\t\t\t\t\tif (event.originalEvent.type !== lightboxLoadEvent) {\r\n\t\t\t\t\t\t$document.off(lightboxLoadEventNs);\r\n\t\t\t\t\t\t_.triggerEvent(\"close\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\topenClick(event) {\r\n\t\tthis.qtip\r\n\t\t\t? this.qtip.show(event)\r\n\t\t\t: this.$icon.qtip(this.config, event);\r\n\t}\r\n\r\n\topenHover(event) {\r\n\t\tconst timer = setTimeout(() => this.openClick(event), 80);\r\n\t\tthis.$icon.one(\"mouseleave\", () => clearTimeout(timer));\r\n\t}\r\n\r\n\tclose(event) {\r\n\t\tthis.qtip && this.qtip.hide(event);\r\n\t}\r\n\r\n\tupdate(event) {\r\n\t\tthis.qtip && this.qtip.reposition(event);\r\n\t}\r\n\r\n\tsetPosition(dir) {\r\n\t\tconst p = function () {\r\n\t\t\tswitch (dir) {\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmy: \"center right\",\r\n\t\t\t\t\t\tat: \"center left\",\r\n\t\t\t\t\t\tmethod: \"shift\"\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmy: \"center left\",\r\n\t\t\t\t\t\tat: \"center right\",\r\n\t\t\t\t\t\tmethod: \"shift\"\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmy: \"top center\",\r\n\t\t\t\t\t\tat: \"bottom center\",\r\n\t\t\t\t\t\tmethod: \"shift flip\"\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmy: \"bottom center\",\r\n\t\t\t\t\t\tat: \"top center\",\r\n\t\t\t\t\t\tmethod: \"shift flip\"\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\t\t}();\r\n\r\n\t\tthis.qtip.set({\r\n\t\t\t\"position.my\": p.my,\r\n\t\t\t\"position.at\": p.at,\r\n\t\t\t\"position.adjust.method\": p.method\r\n\t\t});\r\n\t}\r\n\r\n\tautoScroll() {\r\n\t\tif (!this.options.autoScroll) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst $window = $(window);\r\n\t\tconst $root = $(/WebKit/i.test(navigator.userAgent) ? \"body\" : \"html\");\r\n\r\n\t\tclearTimeout(FiconHover.scrollTimer);\r\n\r\n\t\tFiconHover.scrollTimer = setTimeout(() => {\r\n\r\n\t\t\tconst $tooltip = this.qtip.tooltip;\r\n\t\t\tconst bound = $tooltip[0].getBoundingClientRect();\r\n\r\n\t\t\tconst wHeight = $window.height();\r\n\r\n\t\t\tconst focus = () => this.$section.focus();\r\n\r\n\t\t\tif (bound.bottom > wHeight) {\r\n\t\t\t\t$root.animate({ scrollTop: $window.scrollTop() - wHeight + bound.bottom + 5 }, 500, \"swing\", focus);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (bound.top < 0) {\r\n\t\t\t\t$root.animate({ scrollTop: $window.scrollTop() + bound.top - 5 }, 500, \"swing\", focus);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfocus();\r\n\t\t}, 100);\r\n\t}\r\n\r\n\tfixPositionTop() {\r\n\t\tconst _ = this,\r\n\t\t\t$icon = _.$icon,\r\n\t\t\t$window = $(window),\r\n\t\t\t$tooltip = _.qtip.tooltip;\r\n\r\n\t\t_.currentDir = \"top\";\r\n\r\n\t\tconst reposition = function (e) {\r\n\r\n\t\t\tconst targetDir = $icon.offset().top - $window.scrollTop() > 0 ? \"top\" : \"bottom\";\r\n\r\n\t\t\tif (_.currentDir !== targetDir) {\r\n\t\t\t\t_.setPosition(targetDir);\r\n\t\t\t\t_.currentDir = targetDir;\r\n\r\n\t\t\t\tsetTimeout(() => _.update(e), 0);\r\n\t\t\t}\r\n\r\n\t\t\t$tooltip.one(\"tooltipmove\", reposition);\r\n\t\t}\r\n\r\n\t\t$tooltip.one(\"tooltipmove\", reposition);\r\n\t}\r\n\r\n\tadjustMedia($section) {\r\n\t\tsuper.adjustMedia($section);\r\n\r\n\t\t$section.one(\"ccsGalleryLoad\", () => this.autoScroll());\r\n\t}\r\n\r\n\tadjustSpin($section) {\r\n\t\t$section.one(\"ccsSpinLoad\", () => this.autoScroll());\r\n\t}\r\n\r\n\tadjustHotspots($section) {\r\n\t\t$section.one(\"ccsFicon\", function (e) {\r\n\t\t\tconst $tooltip = e.api.qtip.tooltip;\r\n\r\n\t\t\t$tooltip\r\n\t\t\t\t.on(\"tooltiphide\", (event) => {\r\n\t\t\t\t\tif ($(event.originalEvent.target).closest(\".ccs-hotspots-tooltip\").length) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"tooltiphidden\", () => {\r\n\t\t\t\t\t$tooltip.find(\".ccs-hotspots-point\").qtip(\"hide\");\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","﻿import $ from \"jquery\";\r\nimport FiconBase from \"./FiconBase\";\r\nimport ElementQueries from \"ElementQueries\";\r\nimport \"Fancybox\";\r\n\r\nexport default class FiconLightbox extends FiconBase {\r\n\tconstructor() {\r\n\t\tsuper(...arguments);\r\n\t}\r\n\r\n\tstatic init(options) {\r\n\t\tsuper.init(options);\r\n\r\n\t\t$(document)\r\n\t\t\t.off(\"ccsBreakpointFired.ficon\")\r\n\t\t\t.on(\"ccsBreakpointFired.ficon\", \".ccs-fancybox-ficon\", () => {\r\n\t\t\t\tconst fb = $.fancybox.getInstance();\r\n\t\t\t\tfb && fb.update();\r\n\t\t\t});\r\n\t}\r\n\r\n\tcreate(event) {\r\n\t\tsuper.create(event);\r\n\r\n\t\tconst _ = this,\r\n\t\t\t$section = _.$section,\r\n\t\t\toptions = _.options;\r\n\r\n\t\t_.config = {\r\n\t\t\tcontent: $section,\r\n\t\t\ttype: \"html\",\r\n\t\t\tbaseClass: \"ccs-fancybox-ficon\",\r\n\t\t\tsmallBtn: false,\r\n\t\t\ttouch: false,\r\n\t\t\ttrapFocus: !ccs_util.isMobile(),  //CCSDT-8782\r\n\t\t\tafterLoad(instance, current) {\r\n\t\t\t\tElementQueries.init(`#${$section[0].id}`, options.breakpoints);\r\n\t\t\t\tcurrent.$content.scrollTop($section.data(\"scroll\"));\r\n\t\t\t\t_.triggerEvent(\"open\");\r\n\t\t\t},\r\n\t\t\tafterShow(instance, current) {\r\n\t\t\t\t_.initBackGroundVideoAutoPlay();\r\n\t\t\t},\r\n\t\t\tbeforeClose(instance, current) {\r\n\t\t\t\t$section.data(\"scroll\", current.$content.scrollTop());\r\n\t\t\t\t_.suppressYoutubeAutoplay();\r\n\t\t\t},\r\n\t\t\tafterClose(instance, current) {\r\n\t\t\t\t$.ccsVideoPlayer.stopAllVideos();\r\n\r\n\t\t\t\tElementQueries.detach($section[0]);\r\n\t\t\t\t_.triggerEvent(\"close\");\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$section.find(\"img\").one(\"load\", _.update);\r\n\t}\r\n\r\n\topen() {\r\n\t\t$.fancybox.open(this.config);\r\n\t}\r\n\r\n\tclose() {\r\n\t\t$.fancybox.close();\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tconst fb = $.fancybox.getInstance();\r\n\t\tfb && fb.update();\r\n\t}\r\n\r\n\tadjustSpin($section) {\r\n\t\tconst $spin = $section.find(\".ccs-cc-inline-spritespin\");\r\n\t\tlet timer;\r\n\r\n\t\t$section.one(\"ccsSpinResize\", () => {\r\n\t\t\t$(document).on(\"onUpdate.ccs-fb\", (e) => {\r\n\t\t\t\tclearTimeout(timer);\r\n\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tif (!$section.is(\":visible\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst sectionHeight = $section.height();\r\n\t\t\t\t\tconst sectionWidth = $section.width();\r\n\r\n\t\t\t\t\tconst controlHeight = $section.find(\".ccs-cc-inline-toolbox\").outerHeight(true);\r\n\t\t\t\t\tconst titleHeight = $section.find(\".ccs-cc-inline-section-title\").outerHeight(true);\r\n\r\n\t\t\t\t\tconst spinData = $spin.spritespin(\"data\");\r\n\t\t\t\t\tconst spinHeight = spinData.height;\r\n\t\t\t\t\tconst spinWidth = spinData.width;\r\n\t\t\t\t\tconst ratio = spinWidth / spinHeight;\r\n\r\n\t\t\t\t\tlet targetHeight = sectionHeight - titleHeight - controlHeight;\r\n\t\t\t\t\tlet targetWidth = targetHeight * ratio;\r\n\r\n\t\t\t\t\tif (targetWidth > sectionWidth) {\r\n\t\t\t\t\t\ttargetWidth = sectionWidth;\r\n\t\t\t\t\t\ttargetHeight = targetWidth / ratio;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$spin.parent().width(sectionWidth);\r\n\r\n\t\t\t\t\t$spin.spritespin({\r\n\t\t\t\t\t\twidth: targetWidth,\r\n\t\t\t\t\t\theight: targetHeight\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 50);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$section.on(\"ccsSpinResize\", this.update);\r\n\t}\r\n\r\n\tadjustMedia($section) {\r\n\t\tsuper.adjustMedia($section);\r\n\r\n\t\t$section.one(\"ccsGalleryLoad\", e => {\r\n\t\t\tconst gallery = e.gallery;\r\n\t\t\tconst maxHeight = gallery.maxHeight;\r\n\r\n\t\t\tconst $fancybox = $section.closest(\".ccs-fancybox-container\");\r\n\t\t\tconst margin = $fancybox.find(\".ccs-fancybox-button--close\").height();\r\n\t\t\tconst padding = $section.outerHeight() - $section.height();\r\n\t\t\tconst offset = margin * 2 + padding;\r\n\r\n\t\t\tconst resize = () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tconst wndHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n\t\t\t\t\tconst sectionHeight = wndHeight - offset;\r\n\t\t\t\t\tconst titleHeight = $section.find(\".ccs-cc-inline-section-title\").outerHeight(true);\r\n\t\t\t\t\tconst ribbonHeight = $section.find(\".ccs-slick-slider\").outerHeight(true);\r\n\t\t\t\t\tconst targetHeight = sectionHeight - titleHeight - ribbonHeight;\r\n\r\n\t\t\t\t\tif (targetHeight < maxHeight) {\r\n\t\t\t\t\t\tgallery.maxHeight = targetHeight;\r\n\t\t\t\t\t\tgallery.resize();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 300);\r\n\t\t\t};\r\n\r\n\t\t\t$(document).on(\"ccsFicon\", e => {\r\n\t\t\t\tif (e.action === \"open\") {\r\n\t\t\t\t\tresize();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$(window).on(\"resize\", () => {\r\n\t\t\t\tif ($section.is(\":visible\")) {\r\n\t\t\t\t\tresize();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tresize();\r\n\t\t});\r\n\t}\r\n\r\n\tadjustHotspots($section) {\r\n\t\t$(document).on(\"beforeClose.ccs-fb\", (e, instance, current) =>\r\n\t\t\tcurrent.$content.find(\".ccs-hotspots-point\").qtip(\"hide\"));\r\n\r\n\t\t$section.on(\"click\", e => $section.find(\".ccs-hotspots-point\").not(e.target).qtip(\"hide\"));\r\n\t}\r\n\r\n\tadjustFeatures($section) {\r\n\t\t$section.one(\"ccsFicon\", () => {\r\n\t\t\tconst $slickContainer = $section.find(\".ccs-cc-fc-items\");\r\n\t\t\tif (!$slickContainer.length || !ccs_util.isMobile()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst fcWrapper = [];\r\n\t\t\t$slickContainer.on(\"init\", e => fcWrapper.push($(e.target)));\r\n\r\n\t\t\tlet timer;\r\n\t\t\t$(document).on(\"onUpdate.ccs-fb\", (e) => {\r\n\t\t\t\tif (!$section.is(\":visible\")) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearTimeout(timer);\r\n\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tfcWrapper.forEach($fc => $fc.ccsSlick(\"setPosition\"));\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// CCSDT-6820, https://stackoverflow.com/q/8318264\r\n\tsuppressYoutubeAutoplay() {\r\n\t\tif (ccs_util.isMobile()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.$section\r\n\t\t\t.find(\"[data-video-url*='youtu']\")\r\n\t\t\t.off(\".ytFicon\")\r\n\t\t\t.one(\"ccsPlayer.ytFicon\", e1 => {\r\n\t\t\t\tvar $video = $(e1.target);\r\n\t\t\t\tvar $wrap = $video.children(\".ccs-cc-inline-embedded-video-wrapper\");\r\n\t\t\t\tvar player = e1.player;\r\n\r\n\t\t\t\tif (player.mejs.options.type === \"video/youtube\") {\r\n\r\n\t\t\t\t\t$video\r\n\t\t\t\t\t\t.off(\".ytFicon\")\r\n\t\t\t\t\t\t.on(\"ccsPlayer.ytFicon\", e2 => {\r\n\t\t\t\t\t\tif (e2.originalEvent.type === \"canplay\") {\r\n\r\n\t\t\t\t\t\t\tplayer.pause();\r\n\r\n\t\t\t\t\t\t\tif ($wrap.length) {\r\n\t\t\t\t\t\t\t\t$wrap.hide();\r\n\r\n\t\t\t\t\t\t\t\t$video.one(\"click.ytFicon\", () => {\r\n\t\t\t\t\t\t\t\t\tplayer.play();\r\n\t\t\t\t\t\t\t\t\t$wrap.show();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\t/*CCSDT-8019 - \"autoplay won't work in Safari and Chrome if any of parents of video tag have any DOM manipulation*/\r\n\t/*the explicit trigger required*/\r\n\tinitBackGroundVideoAutoPlay() {\r\n\t\tconst $section = this.$section;\r\n\r\n\t\tif (ccs_util.isMobile())\r\n\t\t\treturn;\r\n\r\n\t\tconst $bgVideos = $section.find(\".ccs-cc-inline-feature-background\").find(\"video\");\r\n\r\n\t\t$bgVideos.each((i, video) => {\r\n\t\t\tvideo.play();\r\n\t\t\tvideo.muted = true;\r\n\t\t});\r\n\t}\r\n}\r\n","﻿import FiconHover from \"./FiconHover\"; \r\nimport FiconLightbox from \"./FiconLightbox\"; \r\n\r\nexport default class FiconFactory {\r\n\r\n\tconstructor(options) {\r\n\r\n\t\tthis.event = \"click\";\r\n\r\n\t\tswitch (options.mode) {\r\n\t\t\tcase \"lightbox\":\r\n\t\t\t\tthis.FiconClass = FiconLightbox;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"hover\":\r\n\t\t\t\tthis.FiconClass = FiconHover;\r\n\r\n\t\t\t\tif (options.invokeType === \"hover\") {\r\n\t\t\t\t\tthis.event += \" mouseenter\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `Unknown Ficons 'mode' value: ${options.mode}`;\r\n\t\t}\r\n\r\n\t\tthis.FiconClass.init(options);\r\n\t}\r\n\r\n\tcreate($icon, options, event) {\r\n\t\treturn new this.FiconClass($icon, options, event);\r\n\t}\r\n}\r\n","﻿import $ from \"jquery\";\r\nimport FiconFactory from \"./FiconFactory\";\r\n\r\nexport default function (options) {\r\n\tconst $iconContainer = $(`#${options.ficonId}`);\r\n\r\n\tif (ccs_util.isMobile()) {\r\n\t\toptions.mode = \"lightbox\";\r\n\t}\r\n\r\n\tvar factory = new FiconFactory(options);\r\n\r\n\t$iconContainer.on(\r\n\t\tfactory.event,\r\n\t\t\".ccs-cc-ficons-item\",\r\n\t\tfunction (e) {\r\n\t\t\tconst $icon = $(this);\r\n\t\t\tvar ficon = $icon.data(\"ficon\");\r\n\r\n\t\t\tif (!ficon) {\r\n\t\t\t\tficon = factory.create($icon, options, e);\r\n\t\t\t\t$icon.data(\"ficon\", ficon);\r\n\t\t\t}\r\n\r\n\t\t\tficon.open(e);\r\n\t\t});\r\n}\r\n"],"sourceRoot":"../../.."}